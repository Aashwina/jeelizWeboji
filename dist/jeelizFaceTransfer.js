 /**
 * Jeeliz Weboji - https://github.com/jeeliz/jeelizWeboji
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

window['JEEFACETRANSFERAPI']=(function(){"use strict";function ja(a){var b=new XMLHttpRequest;b.open("GET",c.Ta+c.save,!0);b.withCredentials=!1;b.onreadystatechange=function(){4===b.readyState&&200===b.status&&a(b.responseText)};b.send()}function la(){var a=c.wb,b=Array(a),d;for(d=0;d<a;++d)b[d]=0;return b}function na(a,b,d){a=Math.min(Math.max((d-a)/(b-a),0),1);return a*a*(3-2*a)}function pa(a,b,d){return Math.min(Math.max((d-a)/(b-a),0),1)}function qa(a,b,d,f){return Math.pow(Math.min(Math.max((f-a)/(b-a),0),1),d)}
function ra(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}
function sa(a){var b=JSON.parse(a);a=b.ne;var d=b.nf,f=b.n,g="undefined"===typeof btoa?Buffer.from(b.data,"base64").toString("latin1"):atob(b.data),e=g.length,m;b=new Uint8Array(e);for(m=0;m<e;++m)b[m]=g.charCodeAt(m);g=new Float32Array(f);e=new Float32Array(d);m=a+d+1;var p,q;for(p=0;p<f;++p){var k=m*p;var v=0===ra(b,k)?1:-1;var r=k+1;var n=1,y=0;for(q=r+a-1;q>=r;--q)y+=n*ra(b,q),n*=2;q=y;r=b;n=k+1+a;y=e;var A=0,D=y.length;for(k=n;k<n+D;++k)y[A]=ra(r,k),++A;for(k=r=0;k<d;++k)r+=e[k]*Math.pow(2,-k-
1);v=0===r&&0===q?0:v*(1+r)*Math.pow(2,1+q-Math.pow(2,a-1));g[p]=v}return g}
var l=function(){function a(a,b){a=h.createShader(a);h.shaderSource(a,b);h.compileShader(a);return h.getShaderParameter(a,h.COMPILE_STATUS)?a:!1}function b(b,e,d){b=a(h.VERTEX_SHADER,b,d+" VERTEX");e=a(h.FRAGMENT_SHADER,e,d+" FRAGMENT");d=h.createProgram();h.attachShader(d,b);h.attachShader(d,e);h.linkProgram(d);return d}function d(a){void 0===a.da&&(a.da="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===a.ga_&&(a.ga_=
["a0"]);void 0===a.Z&&(a.Z=[2]);void 0===a.precision&&(h.getShaderPrecisionFormat&&10<=h.getShaderPrecisionFormat(h.FRAGMENT_SHADER,h.MEDIUM_FLOAT).precision?a.precision="mediump":a.precision="highp");void 0===a.v&&(a.v=[]);a.id=m++;void 0!==a.Rc&&a.Rc.forEach(function(b,d){a.c=a.c.replace(b,a.Eb[d])});a.Sa=0;a.Z.forEach(function(b){a.Sa+=4*b});a.ta=b(a.da,"precision "+a.precision+" float;\n"+a.c,a.name);a.m={};a.g.forEach(function(b){a.m[b]=h.getUniformLocation(a.ta,b)});a.attributes={};a.$=[];a.ga_.forEach(function(b){var d=
h.getAttribLocation(a.ta,b);a.attributes[b]=d;a.$.push(d)});if(a.h){h.useProgram(a.ta);e=a;g=a.id;for(var d in a.h)h.uniform1i(a.m[d],a.h[d])}a.Kd=!0}function f(a){ta.Wc(B);g!==a.id&&(B.O(),g=a.id,e=a,h.useProgram(a.ta),a.$.forEach(function(a){0!==a&&h.enableVertexAttribArray(a)}))}var g=-1,e=!1,m=0,p=!1,q=["u0"],k=["u1"],v={u0:0},r={u1:0},n={u0:0,u2:1},y={u3:0},A={u4:0,u5:1},D={s0:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:q,h:v},s1:{name:"_",
c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:q,h:v,precision:"lowp"},s2:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a*b;}",g:["u0","u2"],h:n},s3:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a.r*f;}",g:q,h:v},s4:{name:"_",c:"uniform sampler2D u0,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u0,vv0);gl_FragColor=a.a*b.r*f;}",
g:["u0","mask"],h:n},s5:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(1.-vv0.x,vv0.y));}",g:q,h:v},s6:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vec2(vv0.x,1.-vv0.y));}",g:q,h:v},s7:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*u6;}",g:["u1","u6"],h:r},s8:{name:"_",c:"uniform sampler2D u1;uniform float u6;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=dot(a*u6,g);gl_FragColor=b*e;}",
g:["u1","u6"],h:r},s9:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u0,vv0));gl_FragColor=a*e;}",g:q,h:v},s10:{name:"_",c:"uniform sampler2D u0,u7;uniform float u8;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);gl_FragColor=mix(b,a,u8*f);}",g:["u0","u7","u8"],h:{u0:0,u7:1}},s11:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u0,vv0+u9)+texture2D(u0,vv0+u9*vec2(1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,-1.))+texture2D(u0,vv0+u9*vec2(-1.,1.)));}",
g:["u0","u9"],h:v},s12:{name:"_",c:"uniform sampler2D u0;uniform vec4 u10;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u0,vv0),u10);gl_FragColor=k(a);}",
g:["u0","u10"],h:v},s13:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",g:k,h:r,v:k,A:!0},s14:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=max(e,a);}",g:k,h:r,v:k,A:!0},s15:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",
g:k,h:r,v:k,A:!0},s16:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",g:k,h:r,v:k,A:!0},s17:{name:"_",c:"uniform sampler2D u1,u8,u11;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),c=texture2D(u8,vv0),d=texture2D(u11,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",g:["u1","u8","u11"],h:{u1:0,u8:1,u11:2},v:k,A:!0},s18:{name:"_",
c:"uniform sampler2D u1;const float e=3.141593;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=atan(e*a)/e;gl_FragColor=b;}",g:k,h:r,v:k,A:!0},s19:{name:"_",c:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(.5,.5,.5,.5);void main(){vec4 a=texture2D(u1,vv0),b=log(e+a);gl_FragColor=b;}",g:k,h:r,v:k,A:!0},s20:{name:"_",c:"uniform sampler2D u1;uniform float gain;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=exp(a);}",g:["u1","u12"],h:r,v:k,A:!0},
s21:{name:"_",c:"uniform sampler2D u1,u13;uniform float u14;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u13,f);float b=u14*u14;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u1,vv0)/c;}",g:["u1","u15","u14"],h:{u1:0,u15:1}},s22:{name:"_",c:"uniform sampler2D u0;uniform vec2 u16;varying vec2 vv0;void main(){float a=u16.x*u16.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u16.y),g=floor(u16.x*fract(b*u16.y)),f=(g*u16.y+d)/a;gl_FragColor=texture2D(u0,f+c/a);}",
g:["u0","u16"],h:v},s23:{name:"_",c:"uniform sampler2D u17,u5,u18;varying vec2 vv0;void main(){vec4 a=texture2D(u18,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u17,b),e=texture2D(u5,c);gl_FragColor=d*e;}",g:["u17","u5","u18"],v:["u17","u5","u18"],h:{u5:0,u17:1,u18:2},A:!0},s24:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec2 a=fract(vv0*u19);vec4 b=texture2D(u17,vv0),c=texture2D(u5,a);gl_FragColor=b*c;}",g:["u5","u17","u19"],v:["u5","u17"],h:{u5:0,u17:1},A:!0},
s25:{name:"_",c:"uniform float u19;uniform sampler2D u17,u5,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u19,m=floor(i),c=i-m;vec4 n=texture2D(u17,vv0),d=texture2D(u5,c),a=texture2D(u23,vv0);a=a*255.;vec4 o=texture2D(u20,c),p=texture2D(u21,c),q=texture2D(u22,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",g:"u17 u5 u19 u23 u20 u21 u22".split(" "),h:{u5:0,
u17:1,u23:3,u20:4,u21:5,u22:6},A:!0},s26:{name:"_",c:"uniform sampler2D u17,u5,u24;uniform float u19,u25,u26,u27;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u25*vv0),g=u25*vv0-a;float b=u19/u25;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u25;float l=u25*u27/u19;vec2 m=l*c,i=(m+d*u26)/u27,e=step(i,j);vec4 n=texture2D(u17,h),o=texture2D(u5,i),p=n*o*e.x*e.y,k=texture2D(u24,h);gl_FragColor=p*u26*u26+k;}",g:"u17 u5 u19 u25 u26 u27 u24".split(" "),v:["u17","u5","u24"],h:{u5:0,u17:1,u24:2},
A:!0},s27:{name:"_",c:"uniform sampler2D u17,u5;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0),b=texture2D(u5,vv0);gl_FragColor=a*b;}",g:["u17","u5"],v:["u17","u5"],h:{u5:0,u17:1},A:!0},s28:{name:"_",c:"uniform sampler2D u0,u24;uniform float u28;varying vec2 vv0;void main(){gl_FragColor=texture2D(u24,vv0)+u28*texture2D(u0,vv0);}",g:["u0","u24","u28"],v:["u0","u24"],A:!0,h:{u0:0,u24:1}},s29:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=dot(a,e)*g;}",
g:q,h:v,precision:"lowp"},s30:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y))*2.,a-=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y))*2.,a+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec4 b=vec4(0.);b-=texture2D(u0,vec2(vv0.x-u29,vv0.y-u29))*1.,b-=texture2D(u0,vec2(vv0.x,vv0.y-u29))*2.,b-=texture2D(u0,vec2(vv0.x+u29,vv0.y-u29))*1.,b+=texture2D(u0,vec2(vv0.x-u29,vv0.y+u29))*1.,b+=texture2D(u0,vec2(vv0.x,vv0.y+u29))*2.,b+=texture2D(u0,vec2(vv0.x+u29,vv0.y+u29))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u0,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
g:["u0","u2","u29"],h:n},s31:{name:"_",c:"varying vec2 vv0;uniform sampler2D u0,u2;uniform float u29;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u29,b,c;float d,a,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)b=vec2(f,e),d=length(b)/2.,a=exp(-d*d),c=vv0+l*b,a=1.,i+=a*texture2D(u0,c).r,g+=a;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u0,c).r-i/g)*j;}",g:["u0","u2","u29"],h:n},s32:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u9*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*i),d=texture2D(u3,a+u9*j),k=texture2D(u3,a+u9),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
g:["u3","u9"],h:y},s33:{name:"_",c:"uniform sampler2D u3;uniform vec2 u9;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u9*j),d=texture2D(u3,a+u9*k),g=texture2D(u3,a+u9),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u9*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u9*l),d=f(a+u9*2.),g=f(a+u9*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",g:["u3","u9"],h:y},
s34:{name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*a;}",g:["u0"],h:v,precision:"lowp"},s35:{name:"_",c:"uniform sampler2D u0;uniform vec2 u9;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float d=15444.;void main(){vec4 a=1001./d*texture2D(u0,vv0-3.*u9)+2002./d*texture2D(u0,vv0-2.*u9)+3003./d*texture2D(u0,vv0-u9)+3432./d*texture2D(u0,vv0)+3003./d*texture2D(u0,vv0+u9)+2002./d*texture2D(u0,vv0+2.*u9)+1001./d*texture2D(u0,vv0+3.*u9);gl_FragColor=a;}",
g:["u9","u0"],h:v,precision:"lowp"},s36:{name:"_",c:"uniform sampler2D u0,u30,u31;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u30,vv0),b=texture2D(u31,vv0),c=texture2D(u0,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",g:["u0","u30","u31"],h:{u0:0,u30:1,u31:2},A:!0},s37:{name:"_",c:"uniform sampler2D u17,u32,u33;varying vec2 vv0;void main(){vec4 a=texture2D(u33,vv0);vec2 b=a.rg;vec4 c=texture2D(u17,b);vec2 d=a.ba;vec4 e=texture2D(u32,d);gl_FragColor=c*e;}",
g:["u17","u32","u33"],h:{u32:0,u33:1,u17:2}},s38:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27;varying vec2 vv0;void main(){float d=u19*u27;vec2 b=vv0*u27,c=floor(b),a=b-c;a.y=1.-a.y;vec2 g=floor(a*u19),h=(g*u27+c)/d;vec4 i=texture2D(u17,h),e=texture2D(u32,a);gl_FragColor=i*e;}",g:["u17","u32","u19","u27"],h:{u32:0,u17:1}},s39:{name:"_",c:"uniform sampler2D u17,u32;uniform float u19,u27,u26,u25;varying vec2 vv0;const vec2 e=vec2(1.,1.);void main(){float k=u19*u26/u27,d=u25*u27/u19,l=k/u25,m=u19/u25,n=k/u25;vec2 g=e-vv0,c=floor(u27*g),h=u27*g-c,i=floor(u25*h),j=u25*h-i,q=j*l,r=floor(c/d),s=c-r*d,t=floor(c/d),u=t+n*j,a=(u+i*m)/u19;a=mod(a,e),a=e-a;vec2 v=s-d*q,b=mod(v/u26,e);b=e-b,b+=vec2(1./u19,1./u19),b=mod(b,e);vec2 w=floor(a*u25),f=(w+b)/u25;f=mod(f,e);vec4 x=texture2D(u17,f),o=texture2D(u32,a);gl_FragColor=x*o;}",
g:"u17 u32 u19 u27 u26 u25".split(" "),h:{u32:0,u17:1}},s40:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=a-b;}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},s41:{name:"_",c:"uniform sampler2D u1,u34,u35;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u34,vv0),c=texture2D(u35,vv0);gl_FragColor=c*(a-b);}",g:["u1","u34","u35"],h:{u1:0,u34:1,u35:2}},
s42:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a;}",g:["u4","u5","u28"],h:A},s43:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);vec4 g(vec4 b){vec4 a=exp(-b);return a/((f+a)*(f+a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*g(b);}",g:["u4","u5","u28"],h:A},s44:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.),i=vec4(1.,1.,1.,1.);const float h=1e-4;vec4 f(vec4 a){return h+step(g,a);}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",
g:["u4","u5","u28"],h:A},s45:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);vec4 f(vec4 a){vec4 b=exp(-abs(a));return mix(b,g,step(0.,a));}void main(){vec4 a=u28*texture2D(u4,vv0),b=texture2D(u5,vv0);gl_FragColor=a*f(b);}",g:["u4","u5","u28"],h:A},s46:{name:"_",c:"uniform sampler2D u4,u5;uniform float u28;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);const float h=3.141593;vec4 g(vec4 b){vec4 a=b*h;return e/(e+a*a);}void main(){vec2 a=vv0;vec4 b=u28*texture2D(u4,a),c=texture2D(u5,a);gl_FragColor=b*g(c);}",
g:["u4","u5","u28"],h:A}},E={},B={Ka:function(){return p},i:function(){if(!p){for(var a in D)d(D[a],a);l.set("s0");h.enableVertexAttribArray(0);a=va.i();p=!0;return a}},Rb:function(a){a.forEach(function(a){B.Qb(a)})},Qb:function(a){D[a.id]=a;d(a,a.id)},wc:function(a,b,e){b||(b=a);D[b]=Object.create(E[a]);E[a].Eb&&E[a].Eb.forEach(function(a,d){D[b].c=D[b].c.replace(new RegExp(a,"g"),e[d])});d(D[b],b)},set:function(a){f(D[a])},wd:function(){return e.td},O:function(){-1!==g&&(g=-1,e.$.forEach(function(a){0!==
a&&h.disableVertexAttribArray(a)}))},Pa:function(){var a=0;e.$.forEach(function(b,d){d=e.Z[d];h.vertexAttribPointer(b,d,h.FLOAT,!1,e.Sa,a);a+=4*d})},sd:function(){h.enableVertexAttribArray(0)},Qa:function(){h.vertexAttribPointer(e.$[0],2,h.FLOAT,!1,8,0)},ae:function(a,b){h.uniform1i(e.m[a],b)},s:function(a,b){h.uniform1f(e.m[a],b)},F:function(a,b,d){h.uniform2f(e.m[a],b,d)},be:function(a,b){h.uniform2fv(e.m[a],b)},ce:function(a,b){h.uniform3fv(e.m[a],b)},Ib:function(a,b,d,f){h.uniform3f(e.m[a],b,
d,f)},Jb:function(a,b){h.uniform4fv(e.m[a],b)},de:function(a,b){h.uniformMatrix2fv(e.m[a],!1,b)},ee:function(a,b){h.uniformMatrix3fv(e.m[a],!1,b)},fe:function(a,b){h.uniformMatrix4fv(e.m[a],!1,b)},N:function(a,b){B.set(a);b.forEach(function(a){switch(a.type){case "4f":h.uniform4fv(e.m[a.name],a.value);break;case "3f":h.uniform3fv(e.m[a.name],a.value);break;case "2f":h.uniform2fv(e.m[a.name],a.value);break;case "1f":h.uniform1f(e.m[a.name],a.value);break;case "1i":h.uniform1i(e.m[a.name],a.value);
break;case "mat2":h.uniformMatrix2fv(e.m[a.name],!1,a.value);break;case "mat3":h.uniformMatrix3fv(e.m[a.name],!1,a.value);break;case "mat4":h.uniformMatrix4fv(e.m[a.name],!1,a.value)}})}};return B}(),h,xa=function(){function a(a){console.log("ERROR in ContextFeedForward : ",a);return!1}var b=!1,d=!1,f=!1,g=!1,e=!0,m=!1,p={w:function(){return b.width},H:function(){return b.height},la:function(){return b},vd:function(){return h},o:function(){return e},flush:function(){h.flush()},mc:function(){m||(m=
new Uint8Array(b.width*b.height*4));h.readPixels(0,0,b.width,b.height,h.RGBA,h.UNSIGNED_BYTE,m);return m},yd:function(){return b.toDataURL("image/jpeg")},zd:function(){t.G();d||(d=document.createElement("canvas"),f=d.getContext("2d"));d.width=b.width;d.height=b.height;var a=p.mc(),e=f.createImageData(d.width,d.height),g,m,n=d.width,y=d.height,A=e.data;for(m=0;m<y;++m){var D=y-m-1;for(g=0;g<n;++g){var E=4*(m*n+g);var B=4*(D*n+g);A[E]=a[B];A[E+1]=a[B+1];A[E+2]=a[B+2];A[E+3]=a[B+3]}}f.putImageData(e,
0,0);return d.toDataURL("image/png")},xd:function(a){!d&&a&&(d=document.createElement("canvas"),f=d.getContext("2d"));var e=a?d:document.createElement("canvas");e.width=b.width;e.height=b.height;(a?f:e.getContext("2d")).drawImage(b,0,0);return e},i:function(d){d.eb&&!d.ja?b=document.getElementById(d.eb):d.ja&&(b=d.ja);b||(b=document.createElement("canvas"));b.width=d&&void 0!==d.width?d.width:512;b.height=d&&void 0!==d.height?d.height:512;"undefined"===typeof d&&(d={});void 0===d.premultipliedAlpha&&
(d.premultipliedAlpha=!1);void 0===d.Ja&&(d.Ja=!0);void 0===d.antialias&&(d.antialias=!1);var f={antialias:d.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:d.premultipliedAlpha,stencil:!1,depth:d.Ja};(h=b.getContext("webgl2",f))?e=!0:((h=b.getContext("webgl",f))||(h=b.getContext("experimental-webgl",f)),e=!1);if(!h)return a("WebGL is not enabled");(g=h.getExtension("WEBGL_lose_context"))&&b.addEventListener("webglcontextlost",d.Lc,!1);if(!u.i())return a("not enough capabilities");
if(!u.Zb()&&e)return a("Your configuration cannot process color buffer float");h.clearColor(0,0,0,0);h.disable(h.DEPTH_TEST);h.disable(h.BLEND);h.disable(h.DITHER);h.disable(h.STENCIL_TEST);h.GENERATE_MIPMAP_HINT&&h.hint(h.GENERATE_MIPMAP_HINT,h.FASTEST);h.disable(h.SAMPLE_ALPHA_TO_COVERAGE);h.disable(h.SAMPLE_COVERAGE);return!0},Jd:function(){if(!l.i())return!1;h.depthFunc(h.LEQUAL);h.clearDepth(1);return!0}};return p}(),ta=function(){var a="undefined"===typeof l?JEShaders:l;return{Wc:function(b){a!==
b&&(a.O(),a=b)},Ka:function(){return a.Ka()},Qa:function(){a.Qa()},Pa:function(){a.Pa()},O:function(){a.O()},set:function(b){a.set(b)}}}(),z=function(){var a,b,d=0,f=-2,g=-2,e=!1,m={reset:function(){g=f=-2},i:function(){e||(a=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,a),h.bufferData(h.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),h.STATIC_DRAW),b=h.createBuffer(),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,b),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),h.STATIC_DRAW),m.Ba(),e=!0)},
a:function(a){var b=d++,e=a.V.length,p=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,p);h.bufferData(h.ARRAY_BUFFER,a.Mb instanceof Float32Array?a.Mb:new Float32Array(a.Mb),h.STATIC_DRAW);f=b;if(a.V){var m=h.createBuffer();h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,m);if(65536>a.V.length){var n=Uint16Array;var y=h.UNSIGNED_SHORT;var A=2}else n=Uint32Array,y=h.UNSIGNED_INT,A=4;h.bufferData(h.ELEMENT_ARRAY_BUFFER,a.V instanceof n?a.V:new n(a.V),h.STATIC_DRAW);g=b}var D={Yb:function(a){f!==b&&(h.bindBuffer(h.ARRAY_BUFFER,
p),f=b);a&&ta.Pa()},Wb:function(){g!==b&&(h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,m),g=b)},bind:function(a){D.Yb(a);D.Wb()},pd:function(){h.drawElements(h.TRIANGLES,e,y,0)},qd:function(a,b){h.drawElements(h.TRIANGLES,a,y,b*A)},remove:function(){h.deleteBuffer(p);a.V&&h.deleteBuffer(m);D=null}};return D},Ba:function(){-1!==f&&(h.bindBuffer(h.ARRAY_BUFFER,a),f=-1);-1!==g&&(h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,b),g=-1)},f:function(a,b){a&&z.Ba();b&&ta.Qa();h.drawElements(h.TRIANGLES,3,h.UNSIGNED_SHORT,0)},
lc:function(){h.deleteBuffer(a);h.deleteBuffer(b)}};return m}(),t=function(){var a,b,d,f=!1,g={u:-2,jc:1};return{i:function(){if(!f){a=h.createFramebuffer();var e=u.o();b=e&&h.DRAW_FRAMEBUFFER?h.DRAW_FRAMEBUFFER:h.FRAMEBUFFER;d=e&&h.READ_FRAMEBUFFER?h.READ_FRAMEBUFFER:h.FRAMEBUFFER;f=!0}},Cd:function(){return b},Ga:function(){return d},T:function(){return h.FRAMEBUFFER},Ed:function(){return g},ud:function(){return a},a:function(d){void 0===d.nb&&(d.nb=!1);var e=d.ad?d.ad:!1,f=d.width,q=void 0!==d.height?
d.height:d.width,k=a,v=!1,r=!1,n=0;e&&(f=f?f:e.w(),q=q?q:e.H());var y={Gb:function(){r||(k=h.createFramebuffer(),r=!0,n=g.jc++)},Pb:function(){y.Gb();y.l();v=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,v);h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_COMPONENT16,f,q);h.framebufferRenderbuffer(b,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,v);h.clearDepth(1)},bind:function(a,d){n!==g.u&&(h.bindFramebuffer(b,k),g.u=n);e&&e.l();d&&h.viewport(0,0,f,q);a&&h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT)},
hd:function(){n!==g.u&&(h.bindFramebuffer(b,k),g.u=n)},clear:function(){h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT)},ld:function(){h.clear(h.COLOR_BUFFER_BIT)},md:function(){h.clear(h.DEPTH_BUFFER_BIT)},Xc:function(){h.viewport(0,0,f,q)},l:function(){n!==g.u&&(h.bindFramebuffer(b,k),g.u=n)},rtt:function(a){e=a;g.u!==n&&(h.bindFramebuffer(h.FRAMEBUFFER,k),g.u=n);a.l()},G:function(){h.bindFramebuffer(b,null);g.u=-1},resize:function(a,b){f=a;q=b;v&&(h.bindRenderbuffer(h.RENDERBUFFER,v),h.renderbufferStorage(h.RENDERBUFFER,
h.DEPTH_COMPONENT16,f,q))},remove:function(){h.bindFramebuffer(b,k);h.framebufferTexture2D(b,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0);v&&h.framebufferRenderbuffer(b,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,null);h.bindFramebuffer(b,null);h.deleteFramebuffer(k);v&&h.deleteRenderbuffer(v);y=null}};d.nb&&y.Pb();return y},G:function(){h.bindFramebuffer(b,null);g.u=-1},cd:function(){h.bindFramebuffer(b,null);h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT);h.viewport(0,0,u.w(),u.H());g.u=-1},reset:function(){g.u=
-2},J:function(){0!==g.u&&(h.bindFramebuffer(b,a),g.u=0)},clear:function(){h.viewport(0,0,u.w(),u.H());h.clear(h.COLOR_BUFFER_BIT)}}}(),K=function(){function a(a){h.bindTexture(h.TEXTURE_2D,a)}function b(a){U[0]=a;a=fa[0];var b=a>>16&32768,d=a>>12&2047,F=a>>23&255;return 103>F?b:142<F?b|31744|((255==F?0:1)&&a&8388607):113>F?(d|=2048,b|(d>>114-F)+(d>>113-F&1)):b=(b|F-112<<10|d>>1)+(d&1)}function d(a){var d=new Uint16Array(a.length);a.forEach(function(a,F){d[F]=b(a)});return d}function f(){if(void 0!==
P)return P;if(!ta.Ka()||!n)return!0;var a=Q.a({isFloat:!1,C:!0,array:d([1,1,1,1]),width:1});t.G();h.viewport(0,0,1,1);h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);ta.set("s0");a.$a(0);z.f(!1,!0);var b=new Uint8Array(4);h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,b);P=.9<b[0];a.remove();t.J();return P}var g=0,e,m=0,p,q=!1,k,v,r,n=!1,y=!1,A,D,E,B=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],ca=!1,da=!1,U=new Float32Array(1),fa=new Int32Array(U.buffer),P=void 0,Q={i:function(){if(!n){v=[h.RGB,!1,h.RGB,
h.RGBA];r=[h.RGB,!1,h.RGB,h.RGBA];e=[h.TEXTURE0,h.TEXTURE1,h.TEXTURE2,h.TEXTURE3,h.TEXTURE4,h.TEXTURE5,h.TEXTURE6,h.TEXTURE7];ca="undefined"!==typeof JEContext;da="undefined"!==typeof u;ca&&JEContext.Rd()&&e.push(h.TEXTURE8,h.TEXTURE9);p=[-1,-1,-1,-1,-1,-1,-1,-1];k=[h.UNSIGNED_BYTE,h.FLOAT,h.FLOAT];if(!q){for(var a=new Float32Array(16384),b=0;16384>b;++b)a[b]=2*Math.random()-1;q={random:Q.a({isFloat:!0,isPot:!0,array:a,width:64}),Lb:Q.a({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}n=
!0}},vc:function(){Q.dd()},Hd:function(){return q.Lb},dd:function(){k[1]=u.ma()},Tc:function(){r=v=[h.RGBA,h.RGBA,h.RGBA,h.RGBA]},Oc:function(a,b){l.set("s1");t.G();var d=a.w(),F=a.H();h.viewport(0,0,d,F);a.b(0);z.f(!1,!1);h.readPixels(0,0,d,F,h.RGBA,h.UNSIGNED_BYTE,b)},kc:function(b,d,e){h.activeTexture(h.TEXTURE0);g=0;var F=h.createTexture();a(F);var f=u.o()&&h.RGBA32F?h.RGBA32F:h.FLOAT;d=d instanceof Float32Array?d:new Float32Array(d);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,e);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,b.w(),b.H(),0,h.RGBA,f,d);a(null);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);t.J();l.set("s0");b.j();h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);a(F);z.f(!0,!1);h.deleteTexture(F)},a:function(b){function q(){a(H);Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,Y);b.isPot?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,b.pb?h.MIRRORED_REPEAT:h.REPEAT),h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_T,b.L?h.MIRRORED_REPEAT:h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));b.pa&&"undefined"!==typeof JESETTINGS&&h.texParameterf(h.TEXTURE_2D,JEContext.Ad().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.fd);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,b.isLinear?h.LINEAR:h.NEAREST);b.isLinear?h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,b.isMipmap&&!Z?h.NEAREST_MIPMAP_LINEAR:h.LINEAR):h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MIN_FILTER,b.isMipmap&&!Z?h.NEAREST_MIPMAP_NEAREST:h.NEAREST);I=v[b.ca-1];C=r[b.ca-1];L=k[F];if(u.o()){var d=h.RGBA32F;I===h.RGBA&&L===h.FLOAT&&d&&(C=d);I===h.RGB&&L===h.FLOAT&&d&&(C=d,I=h.RGBA)}if(b.C&&!b.isFloat||b.isFloat&&b.isMipmap&&va.zc())(d=h.RGBA16F)&&(C=d),L=u.ma();b.rb&&"undefined"!==typeof h.texStorage2D&&(ia=b.rb);b.qb&&4===b.ca&&(I=JEContext.Fd());if(b.B)h.texImage2D(h.TEXTURE_2D,0,C,I,L,b.B);else if(b.url)h.texImage2D(h.TEXTURE_2D,0,C,I,L,R);else if(N){try{var e=h.getError();
e!==h.NO_ERROR&&console.log("GLERR in SharedTexture :",e);h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,N);h.getError()!==h.NO_ERROR&&(h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,null),h.getError()!==h.NO_ERROR&&h.texImage2D(h.TEXTURE_2D,0,h.RGBA,w,x,0,h.RGBA,h.UNSIGNED_BYTE,null))}catch(Za){h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,null)}b.isKeepArray||(N=null)}else h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,null);if(b.isMipmap)if(!Z&&M)M.R(),ma=!0;else if(Z){e=Math.log(Math.min(w,x))/Math.log(2);W=Array(1+e);
W[0]=H;for(d=1;d<=e;++d){var f=Math.pow(2,d);var m=w/f;f=x/f;var q=h.createTexture();a(q);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texImage2D(h.TEXTURE_2D,0,C,m,f,0,I,L,null);a(null);W[d]=q}ma=!0}a(null);p[g]=-1;Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);P=!0;J&&M&&(J(M),J=!1)}"undefined"===typeof b.isFloat&&(b.isFloat=!1);"undefined"===typeof b.C&&(b.C=!1);"undefined"===typeof b.isPot&&(b.isPot=!0);"undefined"===typeof b.isLinear&&
(b.isLinear=!1);"undefined"===typeof b.isMipmap&&(b.isMipmap=!1);"undefined"===typeof b.Ca&&(b.Ca=!1);void 0===b.pa&&(b.pa=!1);void 0===b.L&&(b.L=!1);void 0===b.pb&&(b.pb=!1);void 0===b.qb&&(b.qb=!1);void 0===b.ca&&(b.ca=4);void 0===b.ob&&(b.ob=!1);"undefined"===typeof b.isFlipY&&(b.isFlipY=b.url||b.array?!0:!1);"undefined"===typeof b.isKeepArray&&(b.isKeepArray=!1);b.data&&(b.array="string"===typeof b.data?sa(b.data):b.isFloat?new Float32Array(b.data):new Uint8Array(b.data),b.isFlipY=!1);var F=0,
n=b.B?!0:!1;b.isFloat&&(b.C=!0);b.C&&(F=1);b.ob||u.o()||!b.isFloat||!da||u.bb()||(b.isFloat=!1);b.isFloat&&(F=2);b.pa&&ca&&!JEContext.Md()&&(b.pa=!1);var H=h.createTexture(),J=b.Ca,R=null,N=!1,w=0,x=0,P=!1,U=m++,ba=!1,S,G,aa,O,C,I,L,Y=b.isFlipY,Z=b.C&&b.isMipmap&&va&&!va.ac(),W,ia=-1,ma=!1;"undefined"!==typeof b.width&&b.width&&(w=b.width,x="undefined"!==typeof b.height&&b.height?b.height:w);var M={get:function(){return H},w:function(){return w},H:function(){return x},Id:function(){return b.url},
Nd:function(){return b.isFloat},Pd:function(){return b.C},Qd:function(){return b.isLinear},R:function(){h.generateMipmap(h.TEXTURE_2D)},ab:function(b,d){Z?(b||(b=M.ib()),M.Aa(d),a(W[b]),p[d]=-1):M.b(d)},ib:function(){-1===ia&&(ia=Math.log(w)/Math.log(2));return ia},hb:function(b){if(Z){b||(b=M.ib());l.set("s11");M.Aa(0);var d,e=w,f=x;for(d=1;d<=b;++d)e/=2,f/=2,l.F("u9",.25/e,.25/f),h.viewport(0,0,e,f),a(W[d-1]),h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,h.TEXTURE_2D,W[d],0),z.f(!1,1===d);p[0]=
-1}else M.R()},Aa:function(a){a!==g&&(h.activeTexture(e[a]),g=a)},b:function(b){if(!P)return!1;M.Aa(b);if(p[b]===U)return!1;a(H);p[b]=U;return!0},$a:function(b){h.activeTexture(e[b]);g=b;a(H);p[b]=U},l:function(){h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,h.TEXTURE_2D,H,0)},j:function(){h.viewport(0,0,w,x);h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,h.TEXTURE_2D,H,0)},je:function(){h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0)},resize:function(a,b){w=a;x=b;q()},
clone:function(a){a=Q.a({width:w,height:x,C:b.C,isFloat:b.isFloat,isLinear:b.isLinear,L:b.L,isFlipY:a?!Y:Y,isPot:b.isPot});ta.set("s0");t.J();a.l();h.viewport(0,0,w,x);M.b(0);z.f(!0,!0);return a},Xc:function(){h.viewport(0,0,w,x)},remove:function(){h.deleteTexture(H);M=null},refresh:function(){M.$a(0);Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!0);n?h.texImage2D(h.TEXTURE_2D,0,C,I,h.UNSIGNED_BYTE,b.B):h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,N);Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1)},cb:function(){var a=
w*x*4;G=[new Uint8Array(a),new Uint8Array(a),new Uint8Array(a),new Uint8Array(a)];S=[new Float32Array(G[0].buffer),new Float32Array(G[1].buffer),new Float32Array(G[2].buffer),new Float32Array(G[3].buffer)];aa=new Uint8Array(4*a);O=new Float32Array(aa.buffer);ba=!0},Db:function(){ba||M.cb();h.readPixels(0,0,w,4*x,h.RGBA,h.UNSIGNED_BYTE,aa);var a,b=w*x,d=2*b,e=3*b;for(a=0;a<b;++a)S[0][a]=O[a],S[1][a]=O[a+b],S[2][a]=O[a+d],S[3][a]=O[a+e];return S},fb:function(){t.G();l.set("s12");M.b(0);h.viewport(0,
0,w,4*x);for(var a=0;4>a;++a)h.viewport(0,x*a,w,x),l.Jb("u10",B[a]),z.f(!1,0===a)},ke:function(b){a(H);Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,Y);h.texImage2D(h.TEXTURE_2D,0,C,w,x,0,I,L,b);p[g]=U;Y&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1)},le:function(b,d){a(H);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,d);h.texImage2D(h.TEXTURE_2D,0,C,I,L,b);p[g]=U;d&&h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1)},Wd:function(a,d){var e=w*x,f=4*e;a=b.C?a?"RGBE":"JSON":"RGBA";d&&(a=d);d=u.o()&&!1;switch(a){case "RGBE":var g="s47";
break;case "JSON":g=d?"s0":"s12";break;case "RGBA":case "RGBAARRAY":g="s6"}ba||("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a?(G=new Uint8Array(f),ba=!0):"JSON"!==a||d||M.cb());t.G();l.set(g);M.b(0);if("RGBA"===a||"RGBE"===a||"RGBAARRAY"===a){h.viewport(0,0,w,x);z.f(!0,!0);h.readPixels(0,0,w,x,h.RGBA,h.UNSIGNED_BYTE,G);if("RGBAARRAY"===a)return{data:G};y||(A=document.createElement("canvas"),D=A.getContext("2d"),y=!0);A.width=w;A.height=x;E=D.createImageData(w,x);E.data.set(G);D.putImageData(E,0,0);var m=
A.toDataURL("image/png")}else if("JSON"===a)if(d)m=new Float32Array(e),h.viewport(0,0,w,x),z.f(!0,!0),h.readPixels(0,0,w,x,h.RGBA,h.FLOAT,m);else{for(m=0;4>m;++m)h.viewport(0,x*m,w,x),l.Jb("u10",B[m]),z.f(!m,!m);M.Db();m=Array(e);for(g=0;g<e;++g)m[4*g]=S[0][g],m[4*g+1]=S[1][g],m[4*g+2]=S[2][g],m[4*g+3]=S[3][g]}return{format:a,data:m,width:w,height:x,isMirrorY:b.L,isFlipY:"RGBA"===a?b.isFlipY:!b.isFlipY}}};b.isMipmap&&!Z&&P&&!ma&&(M.R(),ma=!0);if(b.url)a(H),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,
h.RGBA,h.UNSIGNED_BYTE,null),R=new Image,R.od="Anonymous",R.crossOrigin="Anonymous",R.src=b.url,R.onload=function(){w=R.width;x=R.height;q()};else if(b.B){var oa=function(){w=void 0!==b.B.videoWidth?b.B.videoWidth:b.B.width;x=void 0!==b.B.videoHeight?b.B.videoHeight:b.B.height;w?q():setTimeout(oa,1)};oa()}else b.array?(b.C&&!b.isFloat?b.array instanceof Uint16Array?(N=b.array,q()):f()?(N=d(b.array),q()):(q(),Q.kc(M,b.array,Y)):(N=b.isFloat?b.array instanceof Float32Array?b.array:new Float32Array(b.array):
b.array instanceof Uint8Array?b.array:new Uint8Array(b.array),q()),b.isKeepArray||(N&&N!==b.array&&(N=null),delete b.array)):q();M.rc=M.w;J&&P&&(J(M),J=!1);return M},G:function(b){b!==g&&(h.activeTexture(e[b]),g=b);p[b]=-1;a(null)},jd:function(a){q.random.b(a)},reset:function(){for(var a=0;a<e.length;++a)p[a]=-1;g=-1},Vd:function(){g=-1},he:function(){for(var a=0;a<e.length;++a)Q.G(a)},lc:function(){q&&(q.random.remove(),q.Lb.remove())},ie:function(a,b){if("RGBA"===a.format||"RGBE"===a.format){var d=
new Image;d.src=a.data;d.onload=function(){Q.a({L:a.isMirrorY,isFlipY:a.isFlipY,isFloat:!1,B:d,Ca:function(d){if("RGBA"===a.format)b(d);else{var e=a.width,f=a.height,g=Q.a({L:a.isMirrorY,isFloat:!0,width:e,height:f,isFlipY:a.isFlipY});t.J();h.viewport(0,0,e,f);l.set("s48");g.l();d.b(0);z.f(!0,!0);Q.G(0);b(g);h.flush();setTimeout(d.remove,50)}}})}}else"JSON"===a.format?b(Q.a({isFloat:!0,isFlipY:a.isFlipY,width:a.width,height:a.height,array:new Float32Array(a.data)})):b(!1)}};return Q}(),ya={a:function(a){var b=
[K.a(a),K.a(a)],d=[b[1],b[0]],f=d,g={Hb:function(a){f[1].l();f[0].b(a);g.Kb()},$d:function(a){f[1].j();f[0].b(a);g.Kb()},Kb:function(){f=f===b?d:b},refresh:function(){f[0].refresh();f[1].refresh()},b:function(a){f[0].b(a)}};return g}},u=function(){function a(){b="undefined"===typeof xa?JEContext:xa;d=!0}var b,d=!1,f=!1,g=!1,e=!1,m=!1,p=!1,q=!1,k=!1,v=!1,r=!1,n=!1,y=!0,A=!0,D=!0,E,B={i:function(){if(d)return!0;a();B.o()||(B.gb(),B.Da());B.hc();B.ic();t.i();K.i();if(!B.cc())return!1;z.i();K.vc();return!0},
w:function(){d||a();return b.w()},H:function(){d||a();return b.H()},o:function(){d||a();return b.o()},hc:function(){n=(r=h.getExtension("EXT_color_buffer_float")||h.getExtension("WEBGL_color_buffer_float")||h.getExtension("OES_color_buffer_float"))?!0:!1;window.GL_EXT_COLORBUFFERFLOAT=r},ic:function(){h.getExtension("EXT_color_buffer_half_float")||h.getExtension("WEBGL_color_buffer_half_float")||h.getExtension("OES_color_buffer_half_float")},gb:function(){if(!f){this.o()||(g=h.getExtension("OES_texture_float")||
h.getExtension("MOZ_OES_texture_float")||h.getExtension("WEBKIT_OES_texture_float"),m=(window.GL_EXT_FLOAT=g)?!0:!1);if(m||this.o())e=h.getExtension("OES_texture_float_linear")||h.getExtension("MOZ_OES_texture_float_linear")||h.getExtension("WEBKIT_OES_texture_float_linear"),window.GL_EXT_FLOATLINEAR=e;f=!0}},Da:function(){if(!v){if(!this.o()){if(p=h.getExtension("OES_texture_half_float")||h.getExtension("MOZ_OES_texture_half_float")||h.getExtension("WEBKIT_OES_texture_half_float"))E=p.HALF_FLOAT_OES,
q=!0;window.GL_EXT_HALFFLOAT=p}if(q||this.o())k=h.getExtension("OES_texture_half_float_linear")||h.getExtension("MOZ_OES_texture_half_float_linear")||h.getExtension("WEBKIT_OES_texture_half_float_linear"),window.GL_EXT_HALFFLOATLINEAR=k;v=!0}},ma:function(){if(B.o())return h.HALF_FLOAT;B.Da();return q?E:h.FLOAT},bb:function(){return y},$b:function(){return A},kd:function(){return D},Zb:function(){return n},ec:function(){A=y=!0;var a=h.createFramebuffer();h.bindFramebuffer(h.FRAMEBUFFER,a);var b=h.createTexture();
h.bindTexture(h.TEXTURE_2D,b);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.texImage2D(h.TEXTURE_2D,0,B.o()&&h.RGBA32F?h.RGBA32F:h.RGBA,1,1,0,h.RGBA,h.FLOAT,null);h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,h.TEXTURE_2D,b,0);var d=h.checkFramebufferStatus(t.Ga());d!==h.FRAMEBUFFER_COMPLETE&&(y=!1);h.texImage2D(h.TEXTURE_2D,0,B.o()&&h.RGBA16F?h.RGBA16F:h.RGBA,1,1,0,h.RGBA,B.ma(),null);h.framebufferTexture2D(t.T(),h.COLOR_ATTACHMENT0,
h.TEXTURE_2D,b,0);d=h.checkFramebufferStatus(t.Ga());d!==h.FRAMEBUFFER_COMPLETE&&(A=!1);h.bindTexture(h.TEXTURE_2D,null);h.bindFramebuffer(h.FRAMEBUFFER,null);h.deleteTexture(b);h.deleteFramebuffer(a)},dc:function(){var a=t.a({width:1});a.Gb();var b=K.a({width:1,isFloat:!0,ca:3});a.l();b.l();h.flush();h.checkFramebufferStatus(t.Ga())!==h.FRAMEBUFFER_COMPLETE?(K.Tc(),D=!1):D=!0;a.remove();b.remove()},cc:function(){B.ec();if(!y&&!A)return!1;B.dc();return!0}};return B}(),va=function(){var a=!1,b=[.8,
1,.8,1],d=0,f,g=new Uint8Array(4),e=b.concat(b,b,b),m=!0,p={i:function(){function b(a,b,d,e){h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,e?h.NEAREST_MIPMAP_NEAREST:h.LINEAR);try{var f=h.getError();f!==h.NO_ERROR&&console.log("GLERR in test_mipmapping() :",f);h.texImage2D(h.TEXTURE_2D,0,a,2,2,0,h.RGBA,b,d);if(h.getError()!==h.NO_ERROR)return!1}catch(da){return!1}e&&h.generateMipmap(h.TEXTURE_2D);z.Ba();z.f(!1,!0);h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,g);return 0!==g[0]}function p(a){return u.bb()&&
b(r,h.FLOAT,new Float32Array(e),a)?(d=3,!0):!1}function v(a){return u.$b()?b(n,u.ma(),new Uint16Array(e),a)||b(n,h.FLOAT,new Float32Array(e),a)?(d=2,!0):!1:!1}u.gb();u.Da();var r=h.RGBA,n=h.RGBA;if(xa.o()){var y=h.RGBA32F;y&&(r=y);(y=h.RGBA16F)&&(n=y)}z.i();t.reset();t.G();h.viewport(0,0,1,1);l.set("s0");a=!0;f=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,f);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT);
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);if(v(!0)||p(!0))return!0;m=!1;return v(!1)||p(!1)?!0:!1},ac:function(){return m},Dd:function(){return d},Od:function(){a||p.i();return 3===d},zc:function(){a||p.i();return 2===d}};return p}(),za={a:function(a){var b=K.a(a.alpha),d=K.a(a.beta);return{gc:function(){b.b(1);d.b(2)}}}},Ca={a:function(a){var b=a.Yc;b.index=a.index;b.M=a.M;b.parent=a.parent;switch(b.type){case "input":a=Aa.a(b);break;default:a=Ba.a(b)}return a}},Aa={a:function(a){"undefined"===
typeof a.sift&&(a.sift=!1);"undefined"===typeof a.DWT&&(a.DWT=!1);"undefined"===typeof a.blur&&(a.blur=!1);"undefined"===typeof a.siftOutWidth&&(a.siftOutWidth=!1);"undefined"===typeof a.filterBank&&(a.filterBank=!1);"undefined"===typeof a.poolType&&(a.poolType="max");"undefined"===typeof a.postpreprocessing&&(a.postpreprocessing="copy");"undefined"===typeof a.density&&(a.density=1);a.filterBank&&(FilterBank.Zd(a.poolType,a.postpreprocessing),FilterBank.Xd(a.density));var b=!1;if(a.mask){b=!0;c&&
void 0!==c.Ub&&(a.mask=c.Ub+a.mask);var d=K.a({isFloat:!1,url:a.mask})}var f=!1,g="undefined"!==typeof a.preprocessing?a.preprocessing:!1,e=!1;a.sift?Sift.i({uc:h,ja:!1,width:a.size,Td:a.siftOutWidth}):a.DWT&&DWT.i({uc:h,ja:!1,width:a.size});switch(g){case "sobel":var m="s30";e=!0;break;case "meanNormalization":m="s31";e=!0;break;case "grayScale":m="s29";e=!1;break;case "copy":m="s0";break;case "inputLightRegulation":m="s29";Da.i({width:a.size,tb:a.nBlurPass,yc:!1});f=!0;break;case "direct":case "none":m=
!1;break;default:m="s3"}b&&(m+="Mask");if(a.blur)var p=K.a({isFloat:!1,isPot:!1,width:a.size});var q=K.a({isFloat:!1,isPot:!1,width:a.size}),k,v,r,n={w:function(){return a.sift?Sift.U():a.filterBank?FilterBank.U():a.size},U:function(){return n.w()},kb:function(){return a.sift?Sift.ba():a.DWT?DWT.ba():a.filterBank?FilterBank.ba():f?Da.ba():q},D:function(){t.J();a.blur&&(p.j(),l.set("s49"),l.F("u9",1/a.size,1/a.size),z.f(!1,!0),p.b(0));m&&(l.set(m),e&&l.s("u29",1/a.size),q.j(),b&&d.b(1),z.f(!1,!1),
q.b(0),f?Da.sa(q):a.sift?(l.O(),Sift.sa()):a.DWT?(l.O(),DWT.sa(4)):a.filterBank&&(l.O(),FilterBank.sa(q)))},Yd:function(a){k=a},Oa:function(b){k=b;v="s42";r=K.a({isFloat:!0,isPot:!0,width:a.size})},Ea:function(){return r},K:function(){var a=n.kb(),b=k.Ea();k.Fa().K(b);b=k.Fa().S();l.set(v);l.s("u28",b*b);a.b(1);r.j();z.f(!1,!1);r.b(0)}};return n}},Ba={a:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var b=[],d=[],f,g,e=!1,m,p=!0,q,k,v=a.isReorganize?a.isReorganize:!1,
r=a.kernelsNumber?!0:!1,n,y,A,D,E,B,ca,da,U=a.dynPelu?za.a(a.dynPelu):!1,fa=U?!0:!1,P={isEnabled:!1},Q;if("softmax"===a.type){a.activation="softmax";a.size=Math.pow(2,Math.ceil(Math.log(Math.sqrt(a.num_classes))/Math.log(2)));a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.M.U();a.gain="undefined"!==typeof a.gain?a.gain:1;l.N("s20",[{type:"1f",name:"u12",value:a.gain}]);var F=K.a({isFloat:!0,isPot:!1,width:a.size}),ea=K.a({isFloat:!0,isPot:!1,width:a.size,isMipmap:!0});p=!1;var X=new Uint8Array(Math.pow(4*
a.size,2)),V;for(V=0;V<a.size*a.size;++V){var H=V<a.num_classes?255:0;X[4*V]=H;X[4*V+1]=H;X[4*V+2]=H;X[4*V+3]=H}var J=K.a({isFloat:!1,isPot:!1,width:a.size,array:X})}else a.cost?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.M.U(),p=!1):"full"===a.connectivityUp&&(a.sparsity=a.M.U());var R={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",softmax:"s20",dynPelu:"s17"}[a.activation],N=a.sparsity*a.sparsity,w=!1,x=a.size;if(a.maxPooling){switch(a.maxPooling.size){case 2:var ha=
"s32";break;case 4:ha="s33"}w=!0;x/=a.maxPooling.size;var ka=K.a({isFloat:!0,isPot:!1,width:x})}var ba="undefined"!==typeof a.normalization&&a.normalization?!0:!1;if(ba){var S="s50"+a.index;l.wc("s50",S,[((a.normalization.n-1)/2).toFixed(1)]);l.N(S,[{type:"1i",name:"u0",value:0},{type:"2f",name:"u9",value:[1/a.size,1/a.size]},{type:"1f",name:"u8",value:a.normalization.alpha},{type:"1f",name:"u11",value:a.normalization.beta},{type:"1f",name:"u36",value:a.normalization.k}]);var G=K.a({isFloat:!0,isPot:!0,
width:a.size});var aa=K.a({isFloat:!0,isPot:!0,width:a.size})}X=a.size*a.sparsity;var O=Math.log(X/a.size)/Math.log(2),C=K.a({isMipmap:!0,isFloat:!0,isPot:!0,width:X,rb:O}),I=K.a({isFloat:!0,isPot:!0,width:a.size}),L;p&&(L=K.a({isFloat:!0,isPot:!1,width:a.size}));var Y=K.a(a.bias),Z,W={w:function(){return a.size},U:function(){return x},jb:function(){return a.num_classes},Xb:function(a){Q.b(a)},Nc:function(){a.remap&&a.remap.isEnabled&&(P={isEnabled:!0,Bc:K.a({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),
width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(b){return a.parent.oc(b)}),depth:a.remap.depth})},Vc:function(){switch(a.connectivityUp){case "gaussian":Z=Ea.a(a.connectivity);break;case "direct":Z=Fa.a(a.connectivity);break;case "square":Z=Ga.a(a.connectivity);break;case "full":Z=Ha.a(a.connectivity);break;case "conv":k=a.kernelsNumber,Z=Ia.a(a.connectivity),v&&(q=K.a({width:x,isFloat:!0,isFlipY:!1,isPot:!1}))}},D:function(b,d){Q=b;C.j();r&&Y.b(2);Z.D(P);C.b(0);C.hb(O);
I.j();r?l.set("s0"):(l.set("s28"),l.s("u28",N),Y.b(1));C.ab(O,0);z.f(!1,!1);l.set(R);ba?G.l():L.l();I.b(0);fa&&U.gc();z.f(!1,!1);ba&&(l.set(S),aa.l(),G.b(0),z.f(!1,!1),l.set("s51"),l.s("u8",1),L.l(),aa.b(1),z.f(!1,!1));if(p)return w?(ka.j(),L.b(0),l.set(ha),l.F("u9",1/a.size,1/a.size),z.f(!1,!1),d=ka):d=L,d.b(0),v&&(q.l(),l.set("s22"),l.F("u16",k,x/k),z.f(!1,!1),d=q,q.b(0)),B=d;if("softmax"===a.type){l.set("s20");L.b(0);F.l();z.f(!1,!1);a.disableNormalize?b=F:(l.set("s2"),F.b(0),J.b(1),ea.l(),z.f(!1,
!1),l.set("s0"),g.j(),ea.b(0),ea.hb(!1),z.f(!1,!1),l.set("s21"),f.j(),ea.ab(!1,0),l.s("u14",L.rc()),g.b(1),z.f(!1,!1),b=f);if(d){switch(e){case "cpuRGBAAvg":break;default:var n=W.yb(b)}return n}return!1}if(a.cost){l.set("gpuRawAvg"===e?"s8":"s7");d=L;a.disableNormalize||(l.s("u6",1/a.size),f.j(),L.b(0),z.f(!1,!1),d=f);B=d;switch(e){case "cpuRGBA2Float":d.fb();n=W.yb(d);m(n);break;case "gpuRawAvg":case "gpuRaw":d.b(0),m(d)}return!1}},bc:function(p){p&&"undefined"!==typeof p.xb&&(e=p.xb,m=p.Mc);L=K.a({isFloat:!0,
isPot:!0,isMipmap:"softmax"===a.type,width:a.size});"softmax"===a.type&&(g=K.a({isFloat:!0,isPot:!0,width:1}));var k=0,q=0,r="undefined"!==typeof a.num_classes&&a.num_classes?a.num_classes:a.size*a.size;for(p=0;p<r;++p)b.push(k+(a.size-1-q)*a.size),d.push([-1,-1,-1,-1]),++k,k===a.size&&(k=0,++q);a.disableNormalize||(f=K.a({isFloat:!0,isPot:!0,width:a.size}))},yb:function(a){a.fb();var e=a.Db();b.forEach(function(a,b){d[b][0]=e[0][a];d[b][1]=e[1][a];d[b][2]=e[2][a];d[b][3]=e[3][a]});return d},Oa:function(b){E=
b;da={ge:"s43",Ud:"s44",nd:"s42",rd:"s45",gd:"s46"}[a.activation];b={isFloat:!0,isPot:!0,width:a.size};ca=K.a(b);y=K.a(b);w&&K.a(b);v&&(A=K.a(b));p||(D=K.a({isFloat:!0,isPot:!1,width:a.size}))},Ea:function(){return n},K:function(b){if(!p){D.j();l.set("quadratic"===a.cost?"s41":"s40");b.b(1);B.b(0);z.f(!1,!1);D.b(0);var d=1}b=I;p&&(d=E.Ea(),v&&(ca.j(),l.set("s22"),I.b(0),l.F("u16",k,x/k),z.f(!1,!1),b=ca,d.b(0)),E.Fa().K(d),d=E.Fa().S());l.set(da);l.s("u28",d*d);b.b(1);y.j();z.f(!1,!1);n=y;v&&(l.set("s22"),
A.j(),y.b(0),l.F("u16",x/k,k),z.f(!1,!1),n=A);n.b(0)}};a.M&&W.Vc(a.M);return W}};
function Ja(){var a={Ld:!1},b,d;a||(a={});this.oc=function(a){return b[a]};this.Sc=function(a){var f=!1;b=a.map(function(a,b){return f=a=Ca.a({index:b,parent:this,Yc:a,M:f})});d=b[b.length-1];b.forEach(function(a,b){0!==b&&a.Nc()})};this.D=function(a,d){var e=d;b.forEach(function(b){e=b.D(e,a)});return e};this.Oa=function(){for(var a=b.length-1,d;0<=a;--a)d=a!==b.length-1?b[a+1]:!1,b[a].Oa(d)};this.K=function(a){for(var d=b.length-1;0<=d;--d)b[d].K(a)};this.qc=function(){return d.w()};this.ba=function(){return d.kb()};
this.Uc=function(a){d.bc(a)};this.jb=function(){return d.jb()}}
var Fa={a:function(a){var b=K.a(a.weights);delete a.weights.data;return{S:function(){return 1},na:function(){return b},D:function(){l.set("s27");b.b(1);z.f(!1,!1)}}}},Ha={a:function(a){var b=a.fromLayerSize*a.toLayerSize,d=a.fromLayerSize,f=K.a(a.weights),g=K.a({isFloat:!0,isPot:!0,width:b,isMipmap:!0}),e=K.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{S:function(){return d},na:function(){return f},Bd:function(){return _fboWeights},D:function(b){if(b.isEnabled){l.set("s25");b.Bc.b(3);var d,
e=Math.min(b.layers.length,b.depth);for(d=0;d<e;++d)b.layers[d].Xb(4+d)}else l.set("s24");l.s("u19",a.toLayerSize);f.b(1);z.f(!1,!1)},K:function(){l.set("s38");l.s("u19",a.toLayerSize);l.s("u27",a.fromLayerSize);g.j();f.b(1);z.f(!1,!1);e.j();l.set("s0");g.b(0);g.R();z.f(!1,!1);e.b(0)}}}},Ea={a:function(a){var b=a.toSparsity*a.toLayerSize,d=b/a.fromLayerSize,f=K.a(a.weights),g=K.a({isFloat:!0,isPot:!0,width:b,array:new Float32Array(a.weightsFromTo)}),e=K.a({width:b,isFloat:!0,array:new Float32Array(a.fromBindings),
isPot:!0}),m=K.a({width:b,isFloat:!0,array:new Float32Array(a.toBindings),isPot:!0});return{S:function(){return d},na:function(){return f},nc:function(){return e},sc:function(){return m},tc:function(){return g},D:function(){l.set("s23");f.b(1);m.b(2);z.f(!1,!0)}}}},Ga={a:function(a){var b=a.fromLayerSize,d=a.toLayerSize,f=a.toSparsity*d,g=f/b,e=a.toSparsity,m=b/d,p,q,k,v,r=0,n=0,y=0,A=Array(e*d*e*d*4),D=Array(e*d*e*d*4),E=Array(e*d*e*d*4),B=Array(b*b);for(p=0;p<B.length;++p)B[p]=0;var ca=Math.floor(e/
2),da=.5/d,U=.5/b,fa=.5/f;for(p=0;p<d;++p)for(q=0;q<d;++q){var P=Math.round(p*m);var Q=Math.round(q*m);var F=p/d;var ea=q/d;F+=da;ea+=da;for(k=0;k<e;++k)for(v=0;v<e;++v){var X=r/f;var V=n/f;var H=P+k-ca;var J=Q+v-ca;0>H&&(H+=b);0>J&&(J+=b);H>=b&&(H-=b);J>=b&&(J-=b);var R=H/b;var N=J/b;V=1-V-1/f;R+=U;N+=U;X+=fa;V+=fa;A[4*y]=R;A[4*y+1]=N;A[4*y+2]=F;A[4*y+3]=ea;var w=p*e+k,x=q*e+v;x=d*e-x-1;w=x*d*e+w;D[4*w]=X;D[4*w+1]=V;D[4*w+2]=R;D[4*w+3]=N;R=B[J*b+H]++;N=R%g;H=H*g+N;J=J*g+(R-N)/g;J=b*g-1-J;J=J*b*g+
H;E[4*J]=X;E[4*J+1]=V;E[4*J+2]=F;E[4*J+3]=ea;++r>=f&&(r=0,++n);++y}}var ha=K.a(a.weights),ka=K.a({isFloat:!0,isPot:!0,width:f,array:new Float32Array(A)}),ba=K.a({width:f,isFloat:!0,array:new Float32Array(E),isPot:!0});E=null;var S=K.a({width:f,isFloat:!0,array:new Float32Array(D),isPot:!0});D=null;var G=K.a({isFloat:!0,isPot:!0,width:f,isMipmap:!0}),aa=K.a({isFloat:!0,isPot:!0,width:f/g});return{S:function(){return g},na:function(){return ha},nc:function(){return ba},sc:function(){return S},tc:function(){return ka},
D:function(){l.set("s23");ha.b(1);S.b(2);z.f(!1,!1)},K:function(){l.set("s37");G.j();ba.b(1);ha.b(2);z.f(!1,!1);l.set("s0");aa.j();G.b(0);G.R();z.f(!1,!1);aa.b(0)}}}},Ia={a:function(a){function b(){l.s("u25",d);l.s("u26",f);l.s("u19",a.toLayerSize);l.s("u27",a.fromLayerSize)}var d=a.kernelsNumber,f=a.toSparsity,g=f*a.toLayerSize,e=g/a.fromLayerSize,m=K.a(a.weights),p=K.a({isFloat:!0,isPot:!0,width:g,isMipmap:!0}),q=K.a({isFloat:!0,isPot:!0,width:a.fromLayerSize});return{S:function(){return e},Gd:function(){return f},
na:function(){return m},D:function(){l.set("s26");b();m.b(1);z.f(!1,!1)},K:function(){l.set("s39");b();p.j();m.b(1);z.f(!1,!1);l.set("s0");q.j();p.b(0);p.R();z.f(!1,!1);q.b(0)}}}},Da=function(){var a,b,d,f,g,e,m,p,q;return{i:function(k){a=k.tb?k.tb:3;b=k.width?k.width:64;f=k.yc?!0:!1;k={isFloat:!1,width:b,isPot:!1,isFlipY:!1};g=K.a(k);e=K.a(k);m=K.a(k);p=K.a(k);q=K.a({isFloat:!0,width:b,isPot:!1,isFlipY:!1});d=1/b},sa:function(b){l.set("s35");for(var k=0;k<a;++k)g.l(),l.F("u9",d,0),z.f(f,!1),e.l(),
g.b(0),l.F("u9",0,d),z.f(f,!1),e.b(0);l.set("s34");p.l();b.b(0);z.f(f);l.set("s35");for(k=0;k<a;++k)m.l(),p.b(0),l.F("u9",d,0),z.f(f,!1),p.l(),m.b(0),l.F("u9",0,d),z.f(f,!1);l.set("s36");q.l();b.b(0);e.b(1);p.b(2);z.f(f,!1);q.b(0)},ba:function(){return q}}}();function Ka(a,b){a[b]=!0;a.setAttribute(b,"true")}
function La(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}function Ma(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Na(){var a=navigator.userAgent.toLowerCase();return-1==a.indexOf("safari")||-1<a.indexOf("chrome")?!1:!0}function Oa(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function Pa(a){if(!a)return a;var b=!1;if(a.video){var d=function(a){var b={};"undefined"!==typeof a.min&&(b.min=a.min);"undefined"!==typeof a.max&&(b.max=a.max);"undefined"!==typeof a.ideal&&(b.ideal=a.ideal);return b};b={};"undefined"!==typeof a.video.width&&(b.width=d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=a.video.facingMode)}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&(b.deviceId=a.deviceId);
return b}function Qa(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a}
function Ra(a){function b(a){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(b,d){return Math.abs(b-a)-Math.abs(d-a)})}function d(b){f.push(b(Pa(a)))}var f=[];if(!a||!a.video)return f;if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal)for(var g=b(a.video.width.ideal).slice(0,3),e=b(a.video.height.ideal).slice(0,3),m=0,p;m<g.length;++m){p=g[m];for(var q=0,k;q<e.length;++q)if(k=e[q],p!==a.video.width.ideal||k!==a.video.height.ideal){var v=Math.max(p,
k)/Math.min(p,k);v<4/3-.1||v>16/9+.1||d(function(a){a.video.width.ideal=p;a.video.height.ideal=k;return a})}}d(function(a){return Qa(a)})}a.video.facingMode&&(d(function(a){delete a.video.facingMode;return a}),a.video.width&&a.video.height&&d(function(a){Qa(a);delete a.video.facingMode;return a}));a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(a){delete a.video.width.ideal;delete a.video.height.ideal;return a}),d(function(a){delete a.video.width;delete a.video.height;
return a}));f.push({audio:a.audio,video:!0});return f}function Sa(a){try{var b=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(f){b=window.innerHeight>window.innerWidth}if(b){b=a.video.width;var d=a.video.height;b.ideal&&d.ideal&&b.ideal>d.ideal&&(a.video.height=b,a.video.width=d)}}
function Ta(a){a.volume=0;Ka(a,"muted");if(Na()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Ka(a,"muted")},5)}}
function Ua(a,b,d,f){navigator.mediaDevices.getUserMedia(f).then(function(f){function e(){setTimeout(function(){if(a.currentTime){var e=a.videoWidth,g=a.videoHeight;0===e||0===g?d("VIDEO_NULLSIZE"):(e=a.videoWidth,g=a.videoHeight,e&&(a.style.width=e.toString()+"px"),g&&(a.style.height=g.toString()+"px"),Ma()?(document.body.appendChild(a),Ta(a),b(a,f),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";Ta(a)},80)):b(a,f))}else d("VIDEO_NOTSTARTED")},
200)}"undefined"!==typeof a.srcObject?a.srcObject=f:(a.src=window.URL.createObjectURL(f),a.videoStream=f);Ta(a);a.addEventListener("loadeddata",function(){var b=a.play();Ta(a);"undefined"===typeof b?e():b.then(function(){e()}).catch(function(){d("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(d)}
function Va(a,b){var d=Oa()?document.createElement("video"):!1,f={video:{facingMode:{ideal:"user"},width:{min:240,max:1280,ideal:320},height:{min:240,max:1280,ideal:240}},audio:T.Va};d?Oa()?(f&&f.video&&(Ma()?Sa(f):La()&&Sa(f),f.video.width&&f.video.width.ideal&&(d.style.width=f.video.width.ideal+"px"),f.video.height&&f.video.height.ideal&&(d.style.height=f.video.height.ideal+"px")),Ka(d,"autoplay"),Ka(d,"playsinline"),f&&f.audio?d.volume=0:Ka(d,"muted"),Ua(d,a,function(){function g(e){if(0===e.length)b("INVALID_FALLBACKCONSTRAINS");
else{var f=e.shift();Ua(d,a,function(){g(e)},f)}}var e=Ra(f);g(e)},f)):b&&b("MEDIASTREAMAPI_NOTFOUND"):b&&b("VIDEO_NOTPROVIDED")}
var Wa=function(){var a=0,b,d,f,g;return{i:function(e,m){a=e.length;b=m;d=e;f=new Float32Array(a);g=new Float32Array(a)},pc:function(){return g},Zc:function(a,m,p){a.forEach(function(a,e){var k=Math.min(1,d[e]*p*(m+.33*(1-m)));a=k*a+(1-k)*f[e];f[e]=a;g[e]=b[e](a)})}}}(),T={Y:[],ya:!1,za:!1,xa:!1,Va:!1,fa:!0,ea:!1,ready:!1,initialized:!1},c={save:"jeelizFaceTransferNNC.json",Ta:"../../",Tb:0,oa:64,width:512,height:512,Ec:.25,Cc:.7,Ic:3,borderWidth:.4,aa:.35,Jc:5,Kc:3,Ra:[.1,.1,
.2],bd:55,Fc:.6,Dc:5.8,Ob:.75,Nb:1,Wa:[.03,1],ed:20,ha:.2,P:[30,55],Ua:3,Vb:1/3.5,wb:11,sb:1,Gc:1,Xa:[.1,.01],Pc:[.4,-.7,-.4],Qc:[.3,0,0],Fb:[5,7],fc:!1,X:[0,7],Za:.001,Ya:[Math.PI/10,Math.PI/6],zb:[0,6],Ab:[.1,.4],Bb:[.009,.02],Cb:[.02,.05],Ma:8,mb:[3,7],lb:.05,Sb:[.2,.2,.1,.1,.1,.1,.2,.2,.1,.1,.2],Hc:[na.bind(null,.05,.7),na.bind(null,.05,.7),na.bind(null,0,.4),na.bind(null,0,.4),na.bind(null,0,.6),na.bind(null,0,.6),pa.bind(null,.02,.6),na.bind(null,.05,.3),qa.bind(null,.7,.8,2),qa.bind(null,.65,
.75,2),na.bind(null,.1,.5)]};T.get_nMorphs=function(){return c.wb};var Xa=!1;
function Ya(){var a,b,d,f,g,e,m,p,q,k,v;function r(){++S;1===S&&(Wa.i(c.Sb,c.Hc),n(),T.ready=!0,T.Y.forEach(function(a){a()}),T.Y.splice(0,T.Y.length),y(),S=0)}function n(){R=la();N=new Uint8Array(P*P*4);T.get_morphTargetInfluences=function(){return R};T.get_morphTargetInfluencesStabilized=function(){return Wa.pc()};T.set_morphUpdateCallback=function(a){ba=a};T.get_rotation=function(){return x};T.get_rotationStabilized=function(){return ka};T.switch_sleep=function(a){aa!==G.ua||a?aa=a?G.ua:G.ka:y()};
T.on_detect=function(a){a(O.I);O.Na.push(a)};T.is_detected=function(){return O.I};T.set_animateDelay=function(a){ca=a}}function y(){aa!==G.ka&&(aa=G.ka,C.timestamp=Date.now(),da&&window.clearTimeout(da),U&&window.cancelAnimationFrame(U),D())}function A(){aa!==G.ua&&(da=setTimeout(D,ca))}function D(){var a=X.currentTime-ua;0>a&&(ua=X.currentTime);1E3*a<c.ed||(V.refresh(),ua+=a,l.set("s53"),t.J(),H.Ha.j(),V.b(0),z.f(!1,!0));a=aa===G.ka?C.ra:1;for(var b=0;b<a;++b){var d=H,e=fa;l.set("s54");t.J();d.Ia.j();
d.Ha.b(0);d.va.b(1);z.f(!1,!1);d.Ia.b(0);e.D(!1,d.Ia)}T.fa&&(t.cd(),l.set("s5"),H.Ha.b(0),z.f(!1,!1),h.enable(h.BLEND),h.blendFunc(h.SRC_ALPHA,h.ONE),J.b(0),z.f(!1,!1),h.disable(h.BLEND));h.flush();b=Date.now();d=b-C.timestamp;C.timestamp=b;C.ub=a/d;C.La=C.ub*c.ha+C.La*(1-c.ha);C.vb=1E3/d;C.W=C.vb*c.ha+C.W*(1-c.ha);C.W>c.P[1]?(++C.ra,C.W=(c.P[0]+c.P[1])/2):C.W<c.P[0]&&(C.ra=Math.max(C.ra-1,c.Ua),C.W=(c.P[0]+c.P[1])/2);C.ia=c.Vb/Math.max(C.La,.001);aa!==G.ua&&(U=window.requestAnimationFrame(A))}var E,
B,ca=c.Tb,da=!1,U=!1,fa,P,Q,F,ea,X,V,H={},J,R=!1,N,w=[0,0,0],x=[0,0,0],ha=[0,0,0],ka=[0,0,0],ba=!1,S=0,G={Ac:-2,ua:-1,ka:0},aa=G.Ac,O={qa:0,I:!1,Na:[]},C={timestamp:0,ub:0,La:0,ra:c.Ua,vb:0,W:0,ia:1},I=1,L=1,Y=1,Z=1,W=[0,0,0],ia=[0,0,0],ma=Date.now(),M=new Float32Array(c.Ma),oa=0,ua=0;return{xc:function(){E=c.width;B=c.height;F=c.Ec;ea=c.Cc;var n=E/c.oa;F*=n;ea*=n;g=(1-2*c.borderWidth)/c.Jc;e=(1-2*c.aa)/c.Kc;m=(ea-F)/c.Ic;p=c.borderWidth;q=c.aa;k=1-c.borderWidth;v=1-c.aa;a=0;b=c.borderWidth;d=c.aa;
f=F;Q=[c.oa/E,c.oa/B]},i:function(n){function y(){O.qa=c.lb*A(c.mb[0],c.mb[1])+(1-c.lb)*O.qa;.6<O.qa&&!O.I?(O.Na.forEach(function(a){a(!0)}),O.I=!0):.4>O.qa&&O.I&&(O.Na.forEach(function(a){a(!1)}),O.I=!1)}function A(a,b){a+=P*b;return(N[4*a]+N[4*a+1]+N[4*a+2]+N[4*a+3])/1020}function D(){R.forEach(function(a,b){if(O.I){a=(c.sb+b)%P;var d=c.Gc+Math.floor((c.sb+b)/P);d=P-1-d;R[b]=A(a,d)}else R[b]=0})}X=n;V=K.a({B:X,isPot:!1,isFloat:!1,isFlipY:!0});l.Rb([{id:"s53",name:"_",da:"attribute vec2 a0;uniform vec2 u37,u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38+u37*a0;}",
ga_:["a0"],Z:[2],c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",g:["u0","u37","u38"],precision:"lowp"},{id:"s54",name:"_",c:"uniform sampler2D u0;varying vec2 vv0;void main(){gl_FragColor=texture2D(u0,vv0);}",da:"attribute vec2 a0;uniform sampler2D u39;uniform vec2 u40;const vec2 f=vec2(.25,.5),h=vec2(.75,.5),e=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u39,f);vec2 b=a.gb,c=a.a*u40,d=a0*.5+e;vv0=b+(d-e)*c,gl_Position=vec4(a0,0.,1.);}",ga_:["a0"],
Z:[2],g:["u0","u39","u40"],precision:"lowp"},{id:"s55",name:"_",da:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"uniform sampler2D u41,u39;uniform vec3 u42,u43;uniform float u44,u45,u46,u47,u48,u49,u50;varying vec2 vv0;const vec4 n=vec4(1.,1.,1.,1.),o=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);void main(){vec4 g=texture2D(u41,vec2(.375,.9375)),h=texture2D(u41,vec2(.5,.9375));float i=dot(e,texture2D(u41,vec2(0.,.9375))),d=dot(e,texture2D(u41,vec2(.125,.9375))),j=dot(e,texture2D(u41,vec2(.25,.9375)));vec4 a=texture2D(u39,vec2(.5,.5));float c=dot(g,e),k=dot(h,e);bool l=c>u47&&c>k+u48;l?a.r=2.:a.r>u46?a.r=0.:a.r>1.9&&(a.a>u45||a.a<u44)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a.gba=u42,a.r=1.;else{float b;if(a.r>1.9)b=1.-u50;else b=1.,a.r=0.;float f=a.a*u49;a.gba+=vec3(i,d,j)*u43*b*f;}gl_FragColor=a;}",
g:"u41 u39 u42 u44 u45 u46 u47 u48 u43 u49 u50".split(" ")},{id:"s56",name:"_",c:"uniform sampler2D u39;uniform vec2 u40;varying vec2 vv0;const vec2 j=vec2(1.,1.);const vec4 i=vec4(0.,.5,1.,1.);void main(){vec4 g=texture2D(u39,vec2(.25,.5));vec2 h=g.gb;float k=g.a;vec2 a=k*u40,c=h+a,d=h;d-=a/2.,c-=a/2.;vec2 l=.5*(d+c),f=step(d,vv0)*step(vv0,c);float m=f.x*f.y;vec2 b=2.*abs(l-vv0)/a;b=pow(b,3.*j),gl_FragColor=m*i*max(b.x,b.y);}",g:["u39","u40"],precision:"lowp"},{id:"s57",name:"_",c:"uniform sampler2D u0,u7;uniform float u54,u55,u50;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),b=texture2D(u7,vv0);float c=(1.-u50)*(u55-u54)+u54;gl_FragColor=mix(b,a,c*f);}",
g:["u0","u7","u54","u55","u50"],precision:"highp"}]);l.N("s54",[{type:"1i",name:"u0",value:0},{type:"1i",name:"u39",value:1},{type:"2f",name:"u40",value:Q}]);l.N("s56",[{type:"1i",name:"u39",value:0},{type:"2f",name:"u40",value:Q}]);l.N("s55",[{type:"1i",name:"u41",value:0},{type:"1i",name:"u39",value:1},{type:"1f",name:"u44",value:c.Fc},{type:"1f",name:"u45",value:c.Dc},{type:"1f",name:"u46",value:c.bd},{type:"1f",name:"u47",value:c.Ob},{type:"1f",name:"u48",value:c.Nb},{type:"1f",name:"u49",value:Q[0]}]);
l.N("s57",[{type:"1i",name:"u0",value:0},{type:"1i",name:"u7",value:1},{type:"1f",name:"u54",value:c.Wa[0]},{type:"1f",name:"u55",value:c.Wa[1]}]);J=K.a({isPot:!1,isFloat:!1,width:E,height:B});var G=new Float32Array([0,c.borderWidth,c.aa,0]);(function(a){a.Ha=K.a({isPot:!1,Sd:!0,isFloat:!1,width:E,height:B});a.Ia=K.a({isPot:!0,isFloat:!1,width:c.oa});var b={width:1,height:1,isFloat:!0,isPot:!1,array:G};a.va=ya.a(b);a.$c=ya.a(b)})(H);ja(function(n){n=JSON.parse(n);fa=new Ja;fa.Sc(n.layers);fa.Uc({xb:"gpuRaw",
Mc:function(n){var r=H;r.va.Hb(1);h.viewport(0,0,1,1);l.set("s55");l.s("u50",I);l.Ib("u42",b,d,f);l.Ib("u43",1*c.Ra[0],1*c.Ra[1],1*c.Ra[2]);z.f(!1,!1);1!==++a%2&&(f+=m,f>ea&&(b+=g,f=F,b>k&&(b=p,d+=e,d>v&&(d=q))));r.$c.Hb(1);l.set("s57");l.s("u50",I);r.va.b(0);z.f(!1,!1);K.Oc(n,N);D();if(!c.fc&&O.I)for(r=0;3>r;++r)n=A(r+c.Fb[0],c.Fb[1]),n=(2*n-1)*c.Pc[r],n+=c.Qc[r],w[r]=n;y();n=Date.now();r=n-ma;Y=pa(c.Ab[0],c.Ab[1],A(c.zb[0],c.zb[1]));var B=A(c.X[0],c.X[1]),E=A(c.X[0]+1,c.X[1]),G=A(c.X[0]+2,c.X[1]),
P=B-ia[0],Q=E-ia[1],S=G-ia[2];L=1-pa(c.Cb[0],c.Cb[1],Math.sqrt(P*P+Q*Q+S*S)/r);ia[0]=B;ia[1]=E;ia[2]=G;B=W[0]-w[0];E=W[1]-w[1];G=W[2]-w[2];r=Math.sqrt(B*B+E*E+G*G)/r;W[0]=w[0];W[1]=w[1];W[2]=w[2];Z=1-pa(c.Bb[0],c.Bb[1],r);I=Y*L*Z;ma=n;M[oa]=I;oa=(oa+1)%c.Ma;for(n=0;n<c.Ma;++n)I=Math.min(M[n],I);Wa.Zc(R,I,C.ia);ba&&ba(I,C.ia);if(O.I)for(n=c.Xa[1]*I+c.Xa[0]*(1-I),n*=C.ia,r=0;3>r;++r)x[r]=n*w[r]+(1-n)*x[r],ka[r]=x[r];else n=Date.now(),ha[0]=c.Ya[0]*Math.sin(n*c.Za),ha[1]=c.Ya[1]*Math.cos(n*c.Za),ka[0]=
ha[0],ka[1]=ha[1],ka[2]=ha[2];n=H;t.J();J.j();l.set("s56");n.va.b(0);z.f(!1,!1)}});P=fa.qc();r()})}}}T.onLoad=function(a){T.ready?a():T.Y.push(a)};T.set_audio=function(a){T.Va=a};T.switch_displayVideo=function(a){T.fa=a;T.ea&&(T.ea.style.display=T.fa?"block":"none")};T.onWebcamAsk=function(a){T.ya=a};T.onContextLost=function(a){T.xa=a};T.onWebcamGet=function(a){T.za=a};T.set_size=function(a,b){c.width=a;c.height=b};T.get_size=function(){return{width:c.width,height:c.height}};T.get_videoStream=function(){return Xa};
T.get_cv=function(){return xa.la()};
T.init=function(a){var b=Ya(),d=a.callbackReady?a.callbackReady:function(a){console.log("ERR:",a)},f=a.callbackReady?a.callbackReady.bind(!1):!1;if("undefined"===typeof a.canvasId)d("NO_CANVASID");else if(document.getElementById(a.canvasId))if(T.initialized)d("ALREADY_INITIALIZED");else{T.initialized=!0;window.wa=d?function(a){d(a);window.wa=!1}:!1;a.NNCpath&&(c.Ta=a.NNCpath);T.Y.push(f);if(!xa.i({eb:a.canvasId,width:c.width,height:c.height,debug:!1,Ja:!1,Lc:function(){T.xa&&T.xa()},premultipliedAlpha:!1}))return d("GL_INCOMPATIBLE"),
!1;T.ea=xa.la();T.fa||(T.ea.style.display="none");z.i();t.i();l.i();K.i();h.depthFunc(h.LEQUAL);h.clearDepth(1);T.ya&&T.ya();Va(function(a,d){Xa=d;T.za&&T.za();var e=a.videoWidth,f=a.videoHeight;xa.la().width=e;xa.la().height=f;c.width=e;c.height=f;b.xc();d=[.5,.5];f/=e;e=xa.H()/xa.w();f>e?1>=f?d[0]*=f:d[1]/=f:(d[0]*=f,f=1/e,d[0]*=f,d[1]*=f);d[1]*=e;b.i(a);l.N("s53",[{type:"1i",name:"u0",value:0},{type:"2f",name:"u37",value:d},{type:"2f",name:"u38",value:[.5,.5]}])},function(){window.wa&&window.wa("WEBCAM_UNAVAILABLE")});
return!0}else d("INVALID_CANVASID")};window.JEEFACETRANSFERAPI=T;
;return JEEFACETRANSFERAPI;})();